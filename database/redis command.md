redis command
============

1.append

    拼接key对应value的值, 返回value的长度。

    127.0.0.1:6379> append me "say hello" => (integer) 9
    127.0.0.1:6379> get me  => "say hello"
    127.0.0.1:6379> append me " to you" => (integer)16 
    127.0.0.1:6379> get me => "say hello to you"

2.scan

    scan命令用于迭代当前数据库中的数据库键，scan命令每次被调用之后，都会向用户返回一个新的游标，用户在下次迭代时需要使用这个新游标作为scan命令的游标参数，以此继续之前的迭代过程。

    当scan命令的游标参数被设置为0时，服务器将开始一次新的迭代。而当服务器向用户返回值为0的游标时，表示迭代已结束。

    redis 127.0.0.1:6379> scan 0
    1) "17"
    2)  1) "key:12"
        2) "key:8"
        3) "key:4"
        4) "key:14"
        5) "key:16"
        6) "key:17"
        7) "key:15"
        8) "key:10"
        9) "key:3"
        10) "key:7"
        11) "key:1"

    redis 127.0.0.1:6379> scan 17
    1) "0"
    2) 1) "key:5"
       2) "key:18"
       3) "key:0"
       4) "key:2"
       5) "key:19"
       6) "key:13"
       7) "key:6"
       8) "key:9"
       9) "key:11"

    scan命令的返回值有两个数组，一个是下次迭代的游标参数，一个是这次迭代的结果数组。直到游标参数为0时，完成整个遍历过程。

    scan命令的保证

        scan命令整个迭代过程中，如果所有的元素一直存在其中，那么都会被完成的遍历返回。但该命令也有两个缺点:
            1.同一个元素可能会被返回多次。处理重复元素的工作应该交给应用程序负责，比如说, 可以考虑将迭代返回的元素仅仅用于可以安全地重复执行多次的操作上。
            2.如果一个元素是在迭代过程中被添加到数据集的，又或者是在迭代过程中从数据集中被删除的，那么这个元素可能会被返回，也可能不会，这是未定义的。

    scan命令每次执行返回的元素数量

        增量式迭代命令并不保证每次执行都返回某个给定数量的元素。（what???）增量式命令甚至会返回零个，但只要命令返回的游标不是0，应用程序就不应该将迭代视作结束。

        在实际中：
            1.对于一个大数据集来说，增量式迭代命令每次最多可能会返回数十个元素。
            2.而对于一个足够小的数据集来说， 如果这个数据集的底层表示为编码数据结构（encoded data structure，适用于是小集合键、小哈希键和小有序集合键）， 那么增量迭代命令将在一次调用中返回数据集中的所有元素。

        用户可以通过增量式迭代命令提供的 COUNT 选项来指定每次迭代返回元素的最大值。

    count 选项

        虽然增量式迭代命令不保证每次迭代所返回的元素数量。
            1.count参数默认值是10
            2.在迭代一个足够大的，由哈希表实现的数据库表，集合键，哈希键或者有序集合键时，如果用户没有使用match选项，那么命令返回的元素数量通常和count选项指定的一样，或者比count选项指定的数量稍多一些。
            3.在迭代一个编码为整数集合，或者编码为压缩列表时，增量式迭代命令通常会无视count选项指定的值。在第一次迭代就将数据集包含的所有元素都返回给用户。

3.pfadd和pfcount

    pfadd 用于将数据添加到一个HyperLogLog的数据结构中，HyperLogLog是一个基数的估算算法, 如{1，2，3，3，4，5，6}基数是5.即不重复的元素数量。空间占用非常小，但本身不存储元素，不能返回输入的元素.

    redis> PFADD hll a b c d e f g
    (integer) 1
    redis> PFCOUNT hll
    (integer) 7














